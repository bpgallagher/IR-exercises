\exercise

Given a set of binary vectors,

\begin{enumerate}

  \item describe how it is computed an LSH-fingerprint of a binary vector v to
  fast to approximate the Hamming distance between vector-pairs with high
  probability \emph{(Hint: state clearly the parameters involved in the
  setting)};

  \item state and prove how the Hamming distance between two vectors v and w is
  related to the probability of declaring a “match” between LSH-fingerprints of
  v and w, according to the various parameters involved;

  \item apply your description on the set of vectors $V = \{00000, 00100,
  01010\}$, and use it to estimate Hamming(00000, 01010) and Hamming(00000,
  00100).

\end{enumerate}

\solution

\begin{enumerate}

  \item We compute a sketch of all the vectors of the set via LSH: for each
  vector we take $L$ $k$-projections $h_1$, $h_2$, \dots, $h_L$ and generate
  %
  \begin{align*}
    g(\textbf{u}) = \langle h_1(\textbf{u}), h_2(\textbf{u}), \dots,
    h_L(\textbf{u}) \rangle
  \end{align*}
  %
  We know that, for every $i = 1, \dots, L$ and for every $\mathbf{v, w} \in V$
  it holds that
  %
  \begin{align}\label{eq:lsh-p1}
    \mathbb{P}[h_i(\textbf{v}) = h_i(\textbf{w})] =
    \left( 1 - \frac{d_H(\textbf{v}, \textbf{w})}{n} \right)^k
  \end{align}
  %
  where $n = |\textbf{v}| = |\textbf{w}|$ and $d_H(\textbf{v}, \textbf{w})$ is
  the Hamming distance between $\textbf{v}$ and $\textbf{w}$. We can make an
  empirical estimation of the previous probability with
  %
  \begin{align}\label{eq:lsh-p2}
    \mathbb{P}[h_i(\textbf{v}) = h_i(\textbf{w})] \approx
    1 - \frac{d_H(g(\textbf{v}), g(\textbf{w}))}{L}.
  \end{align}
  %
  We can then combine \autoref{eq:lsh-p1} and \ref{eq:lsh-p2} and get the
  Hamming distance:
  %
  \begin{align}
    d_H(\textbf{v}, \textbf{w}) &= n \cdot \left( 1 -
    \sqrt[k]{\mathbb{P}[h_i(\textbf{v}) = h_i(\textbf{w})]}\right) \\
    &\approx n \cdot \left( 1 - \sqrt[k]{1 - \frac{d_H(g(\textbf{v}),
    g(\textbf{w}))}{L}}\right)
  \end{align}

\end{enumerate}
